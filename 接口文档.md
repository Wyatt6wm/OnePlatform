# OnePlatform接口文档

## 1. 服务网关面向前端开放的接口

### 1.1. 接口规范定义

#### 1.1.1. 前后端接口格式定义

请求接口：

```json

```

响应接口：

```json
{
    "succ": true,
    "code": 1000000,
    "mesg": "响应信息",
    "data": {}
}
```

#### 1.1.2. 响应码定义

格式：7位数字，如`1000000`。

- 第1-2位：微服务模块编号。
    - 10：用户中心basic-user
    - 11：？
- 第3-5位：该微服务提供的接口编号（从001开始）。
- 第6-7位：此接口的响应情况编号（从01开始）。

### 1.2. basic-user用户中心 10

#### 1.2.1. 获取验证码 001

（待开发）

#### 1.2.2. 登录认证授权 002

- 请求路径：/api/login
- 请求方法：post
- 请求参数

| 参数     | 说明   | 说明                                                         |
| -------- | ------ | ------------------------------------------------------------ |
| username | 用户名 | 由大写英文字母、小写英文字母和数字组成，长度不大于16位。     |
| password | 密码   | 由大写英文字母、小写英文字母、数字和特殊字符`.~!@#$%^&*_?`组成，长度8位~16位。前端不加密，后端加密盐MD5加密。 |

- 响应数据

##### 认证成功 01

```json
{
    "succ": true,
    "code": 1000101,
    "mesg": "认证成功",
    "data": {
        "token": "d8c6ed7a-3fd4-46e4-a477-b20d1ce9cda0",
        "tokenExpiredTime": "2024-06-01T09:21:53.102+00:00",
        "permission": {
            "端标识符1": {
                "view": [
                    "页面查看权限1",
                    "页面查看权限2"
                ],
                "api": [
                    "接口访问权限1",
                    "接口访问权限2"
                ]
            },
            "端标识符2": {
                "view": [],
                "api": []
            }
        }
    }
}
```

##### 认证失败 02：

账户或密码不正确。

```json
{
    "succ": true,
    "code": 1000102,
    "mesg": "账户或密码不正确",
    "data": {}
}
```

##### 认证失败 03：

验证码错误。（待开发）

##### 认证失败 04：

账号状态异常。（待开发）

#### 1.2.3. 获取个人信息 003

（待开发）

## 2. OnePlatform内部微服务接口



